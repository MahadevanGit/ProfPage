<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="description" content="" />
  <meta name="author" content="" />
  <link href="https://fonts.googleapis.com/css?family=Lato:100,300,400,700,900" rel="stylesheet" />

  <title id="pagetitle"></title>
  <!--
Reflux Template
https://templatemo.com/tm-531-reflux
-->
  <!-- Bootstrap core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />

  <!-- Additional CSS Files -->
  <link rel="stylesheet" href="assets/css/fontawesome.css" />
  <link rel="stylesheet" href="assets/css/templatemo-style.css" />
  <link rel="stylesheet" href="assets/css/owl.css" />
  <link rel="stylesheet" href="assets/css/lightbox.css" />
</head>

<body>
  <div id="page-wraper">
    <!-- Sidebar Menu -->
    <div class="responsive-nav">
      <i class="fa fa-bars" id="menu-toggle"></i>
      <div id="menu" class="menu">
        <i class="fa fa-times" id="menu-close"></i>
        <div class="container">
          <div class="image" id="profile-image">
          </div>
          <div class="author-content" id="profileName">

          </div>
          <nav class="main-nav" role="navigation">
            <ul class="main-menu">
              <li><a href="#section1">Home</a></li>
              <li><a href="#section2">Research</a></li>
              <li><a href="#section3">Teaching</a></li>
              <li><a href="#section4">Research Team</a></li>
              <li><a href="#section5">Publications</a></li>
              <li><a href="#section6">Service and Awards</a></li>
              <li><a href="#section7">Photo Galary</a></li>
              <li><a href="#section8">News</a></li>
              <li><a href="#section9">Contact Me</a></li>
            </ul>
          </nav>
        </div>
      </div>
    </div>

    <section class="section about-me" data-section="section1">
      <div class="container">
        <div class="section-heading">
          <h2>About Me</h2>
          <div class="line-dec"></div>
          <div id="aboutme"></div>
        </div>

        <div class="left-image-post">
          <div class="row">
            <div class="col-md-6">
              <div id="divIntrestContentImage" class="left-image">
                <!-- <img id="intrestContent-image" /> src="assets/images/myIntrest.jpg" alt="" -->
                
              </div>
            </div>
            <div class="col-md-6">
              <div class="section-heading right-text" id="divIntrest-right">
              </div>
            </div>
          </div>
        </div>

        <!-- right-image-post , divIntrest-left post dont delete this -->
        <!-- <div class="right-image-post">
          <div class="row">
            <div class="col-md-6">
              <div class="section-heading left-text" id="divIntrest-left">
              </div>
            </div>
            <div class="col-md-6">
              <div class="right-image">
                <img src="assets/images/right-image.jpg" alt="" />
              </div>
            </div>
          </div>
        </div>
      </div> -->

    </section>

    <section class="section my-services" data-section="section2">
      <div class="container">
        <div class="section-heading" id="divResearchHighlight">
          <!-- dynamically loading -->
        </div>
    </section>

    <section class="section my-work" data-section="section3">
      <div class="container">
        <div class="section-heading" id="divTeachingContent">
          <!-- dynamically loading -->
        </div>
      </div>
    </section>

    <section class="section my-work" data-section="section4">
      <div class="container">
        <div class="section-heading">
          <h2>Research Team</h2>
          <div class="line-dec"></div>
          <div class="left-image-post" id="divResearchTeamRight">
            <!-- dynamically loading -->
          </div>
          <div class="right-image-post" id="divResearchTeamLeft">
            <!-- dynamically loading -->
          </div>
          <div class="left-image-post" id="divResearchAluminiTeamRight">
            <!-- dynamically loading -->
          </div>
    </section>

    <section class="section my-work" data-section="section5">
      <div class="container">
        <div class="section-heading">
          <h2>Publications</h2>
          <div class="line-dec"></div>
          <div id="divPublications" class="puplications">
            <!-- dynamically loading -->
          </div>
        </div>
      </div>
    </section>

    <section class="section my-work" data-section="section6">
      <div class="container">
        <div class="section-heading">
          <h2>Service and Awards</h2>
          <div class="line-dec"></div>
          <div id="divServiceAndAwards" class="puplications">
            <!-- dynamically loading -->
          </div>
        </div>
      </div>
    </section>

    <section class="section my-work" data-section="section7">
      <div class="container">
        <div class="section-heading" id="divPhotoGalaryContent">
          <h2>Photo Galary</h2>
          <div class="line-dec"></div>
        </div>
        <div class="row">
          <div class="isotope-wrapper">
            <form class="isotope-toolbar">
              <label><input type="radio" data-type="*" checked="" name="isotope-filter" />
                <span>all</span></label>
              <label><input type="radio" data-type="people" name="isotope-filter" />
                <span>people</span></label>
              <label><input type="radio" data-type="nature" name="isotope-filter" />
                <span>nature</span></label>
              <!-- <label
                  ><input
                    type="radio"
                    data-type="animals"
                    name="isotope-filter"
                  />
                  <span>animals</span></label
                > -->
            </form>
            <div class="isotope-box">
              <div class="isotope-item" data-type="nature">
                <figure class="snip1321">
                  <img src="assets/images/portfolio-01.jpg" alt="sq-sample26" />
                  <figcaption>
                    <a href="assets/images/portfolio-01.jpg" data-lightbox="image-1" data-title="Caption"><i
                        class="fa fa-search"></i></a>
                    <h4>First Title</h4>
                    <span>free to use our template</span>
                  </figcaption>
                </figure>
              </div>

              <div class="isotope-item" data-type="people">
                <figure class="snip1321">
                  <img src="assets/images/portfolio-02.jpg" alt="sq-sample26" />
                  <figcaption>
                    <a href="assets/images/portfolio-02.jpg" data-lightbox="image-1" data-title="Caption"><i
                        class="fa fa-search"></i></a>
                    <h4>Second Title</h4>
                    <span>please tell your friends</span>
                  </figcaption>
                </figure>
              </div>

              <div class="isotope-item" data-type="animals">
                <figure class="snip1321">
                  <img src="assets/images/portfolio-03.jpg" alt="sq-sample26" />
                  <figcaption>
                    <a href="assets/images/portfolio-03.jpg" data-lightbox="image-1" data-title="Caption"><i
                        class="fa fa-search"></i></a>
                    <h4>Item Third</h4>
                    <span>customize anything</span>
                  </figcaption>
                </figure>
              </div>

              <div class="isotope-item" data-type="people">
                <figure class="snip1321">
                  <img src="assets/images/portfolio-04.jpg" alt="sq-sample26" />
                  <figcaption>
                    <a href="assets/images/portfolio-04.jpg" data-lightbox="image-1" data-title="Caption"><i
                        class="fa fa-search"></i></a>
                    <h4>Item Fourth</h4>
                    <span>Re-distribution not allowed</span>
                  </figcaption>
                </figure>
              </div>

              <div class="isotope-item" data-type="nature">
                <figure class="snip1321">
                  <img src="assets/images/portfolio-05.jpg" alt="sq-sample26" />
                  <figcaption>
                    <a href="assets/images/portfolio-05.jpg" data-lightbox="image-1" data-title="Caption"><i
                        class="fa fa-search"></i></a>
                    <h4>Fifth Awesome</h4>
                    <span>Ut sollicitudin risus</span>
                  </figcaption>
                </figure>
              </div>

              <div class="isotope-item" data-type="animals">
                <figure class="snip1321">
                  <img src="assets/images/portfolio-06.jpg" alt="sq-sample26" />
                  <figcaption>
                    <a href="assets/images/portfolio-06.jpg" data-lightbox="image-1" data-title="Caption"><i
                        class="fa fa-search"></i></a>
                    <h4>Awesome Sixth</h4>
                    <span>Donec eget massa ante</span>
                  </figcaption>
                </figure>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="section news sec-news" data-section="section8">
      <div class="container">
        <div class="section-heading">
          <h2>News</h2>
          <div class="line-dec"></div>
        </div>

        <div class="left-image-post">
          <div id="divNews">

          </div>
        </div>

      </div>



    </section>

    <section class="section contact-me" data-section="section9">
      <div class="container">
        <div class="section-heading">
          <h2>Contact me @</h2>
          <div class="line-dec"></div>
        </div>
        <div id="divContactContent" class="contactme-li">
          <!-- dynamically html getload here -->
        </div>
      </div>
    </section>
  </div>
  <br>
  <!--  -->

  <nav class="main-nav" role="navigation">
    <div class="main-menu">
      <a href="#section1">
        <div class="circle-div">
          top
        </div>
      </a>
    </div>
  </nav>


  <!-- Scripts -->
  <!-- Bootstrap core JavaScript -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <script src="assets/js/isotope.min.js"></script>
  <script src="assets/js/owl-carousel.js"></script>
  <script src="assets/js/lightbox.js"></script>
  <script src="assets/js/custom.js"></script>
  <script src="assets/js/page-data.js"></script>
  <script src="assets/js/custome-email.js"></script>
  <script src="assets/js/smtp.js"></script>
  <script>
    //according to loftblog tut
    $(".main-menu li:first").addClass("active");

    var showSection = function showSection(section, isAnimate) {
      var direction = section.replace(/#/, ""),
        reqSection = $(".section").filter(
          '[data-section="' + direction + '"]'
        ),
        reqSectionPos = reqSection.offset().top - 0;

      if (isAnimate)
      {
        $("body, html").animate(
          {
            scrollTop: reqSectionPos
          },
          800
        );
      } else
      {
        $("body, html").scrollTop(reqSectionPos);
      }
    };

    var checkSection = function checkSection() {
      $(".section").each(function () {
        var $this = $(this),
          topEdge = $this.offset().top - 80,
          bottomEdge = topEdge + $this.height(),
          wScroll = $(window).scrollTop();
        if (topEdge < wScroll && bottomEdge > wScroll)
        {
          var currentId = $this.data("section"),
            reqLink = $("a").filter("[href*=\\#" + currentId + "]");
          reqLink
            .closest("li")
            .addClass("active")
            .siblings()
            .removeClass("active");
        }
      });
    };

    $(".main-menu").on("click", "a", function (e) {
      e.preventDefault();
      showSection($(this).attr("href"), true);
    });

    $(window).scroll(function () {
      checkSection();
    });

    //get data 
    var current_data = data.prof;

    ////////Define the function here////////

    //get list of student and staff
    var listOfStudent = {
      "category": "Student",
      "collection": data.underProf
        .filter(x => x.code.toLowerCase() == "student")
    };
    var listOfStaff = {
      "category": "Staff",
      "collection": data.underProf
        .filter(x => x.code.toLowerCase() == "staff")
    };
    var listOfAlumini = {
      "category": "Alumini",
      "collection": data.underProf
        .filter(x => x.code.toLowerCase() == "alumini")
    };
    var listOfNews = {
      "category": "News",
      "collection": data.news
    };
    //get Profile CurrentData
    function getProfileCurrentData() {
      //var t = false;
      var img = document.createElement('img');
      img.src = 'assets/images/' + current_data.myphoto;
      img.alt = current_data.name;
      document.getElementById('profile-image').appendChild(img);
      document.getElementById('profileName').innerHTML =
        '<h4>' + current_data.name + '</h4>' +
        '<span>' + current_data.designation + '</span>';
      document.getElementById('aboutme').innerHTML =
        '<span>' + current_data.aboutme + '</span>';
      document.getElementById('pagetitle').innerHTML =
        current_data.pageTitle;
      document.getElementById('divIntrest-right').innerHTML =
        '<h4> Research Interests </h4>' +
        '<span>' + current_data.intrestContent + '</span>'
      // '<div class="white-button"> <a href="#">Read More</a>  </div>'
      // document.getElementById('divIntrest-left').innerHTML =
      //   '<h4> Research Interests </h4>' +
      //   '<span>' + current_data.intrestContent + '</span>'
      // '<div class="white-button"> <a href="#">Read More</a>  </div>'
      loadIntrestContentImage(data.prof);
      document.getElementById("divResearchHighlight").innerHTML =
        '<h2>Research Highlight</h2><div class="line-dec"></div>' +
        '<span>' + current_data.researchHighLightContent + '</span>';
      document.getElementById("divTeachingContent").innerHTML =
        '<h2>Teaching</h2><div class="line-dec"></div>' +
        current_data.teachingContent;
      //divResearchTeam-right
      document.getElementById("divResearchTeamRight").innerHTML = getResearchTeamRightByCategory(listOfStudent);
      createImgTeamMembers(listOfStudent);
      //divResearchTeam-left
      document.getElementById("divResearchTeamLeft").innerHTML = getResearchTeamLeftByCategory(listOfStaff);
      createImgTeamMembers(listOfStaff);
      //divResearchAluminiTeamRight
      document.getElementById("divResearchAluminiTeamRight").innerHTML = getResearchTeamRightByCategory(listOfAlumini);
      createImgTeamMembers(listOfAlumini);
      //divPublications
      document.getElementById("divPublications").innerHTML = getPublications(data.publications);
      //divServiceAndAwards
      document.getElementById("divServiceAndAwards").innerHTML = getServiceAndAwards(data.serviceAndAwards);
      //divNews
      document.getElementById('divNews').innerHTML = getNewsContent(data.news);
      loadNewsContentImage(data.news);


      //divContactContent
      document.getElementById("divContactContent").innerHTML = getContactContent(data.prof);
    }

    function getMyPhoto(current_data) {
      var rootPath = 'assets/images/';
      var myphotoPath = "";
      myphotoPath = rootPath + current_data.myphoto;
      if (!ImageExist(myphotoPath))
      {
        myphotoPath = rootPath + (current_data.gender.toLowerCase() == 'male') ? 'male-default.jpg' : 'female-default.jpg';
      }
      else
      {
        myphotoPath = rootPath + current_data.myphoto;
      }
      return myphotoPath;
    }

    function ImageExist(url) {
      return true;
    }

    function getResearchTeamRightByCategory(obj) {
      var ele = "<h4>" + obj.category + "</h4>";
      obj.collection.forEach(e => {
        ele = ele + '<div class="row"><div class="col-md-3"><div class="right-image" id="' +
          e.name.replace(" ", "_") + '">' +
          '</div></div><div class="col-md-9"><div class="section-heading left-text">' +
          '<p>' + e.name + ' </p>' +
          '<p>' + e.designation + '</p>' +
          '<p>' + e.emailId + '</p>' +
          '</div></div></div><br>';
      })
      return ele;
    }

    function getPublications(obj) {
      var html = "";
      obj.forEach(e => {
        html = html + "<h2>" + e.header + "</h2></br>";
        e.content.forEach(c => {
          html = html + "<h4>" + c.year + "</h4><div class='sub-line'></div></br><div><ul class='sqr'>";
          sortResults('order', true, c.published).forEach(p => {
            html = html + "<li><span>" + p['text'] + "</span></li>";
          })
          html = html + "</ul></div></br>"
        });
      })
      return html;
    }

    function getServiceAndAwards(serviceAndawards) {
      var html = "";
      serviceAndawards.forEach(e => {
        html = html + "<h2>" + e.header + "</h2></br>";
        e.content.forEach(c => {
          html = html + "<h4>" + c.year + "</h4><div class='sub-line'></div></br><div><ul class='sqr'>";
          sortResults('order', true, c.data).forEach(p => {
            html = html + "<li><span>" + p['text'] + "</span></li>";
          })
          html = html + "</ul></div></br>"
        });
      })
      return html;
    }

    function getNewsContent(news) {
      var index = 0;
      var html = "";
      news.forEach((n) => {
        html = html + '<div class="row"><div class="col-md-3"><div class="left-image">';
        html = html + '<div class="image" id="news-image' + index + '"></div></div></div>';

        html = html + '<div class="col-md-9"><div class="section-heading right-text">';
        html = html + '<span>' + news[index].content + '</span></div></div></div></br>';
        index++;
      })
      return html;
    }

    function loadIntrestContentImage(prof) {
      var img = document.createElement('img');
      img.src = 'assets/images/' + prof.intrestContent_image;
      img.alt = 'intrestContent_image';
      var imageDivId = 'divIntrestContentImage';
      document.getElementById(imageDivId).appendChild(img);
    }

    function loadNewsContentImage(news) {
      var index = 0;
      news.forEach((n) => {
        var img = document.createElement('img');
        img.src = 'assets/images/' + data.news[index].news_img;
        img.alt = data.news[index].title;
        var imageid = 'news-image' + index;
        document.getElementById(imageid).appendChild(img);
        index++;
      })
    }

    function getContactContent(prof) {
      var html = "";
      html = html + "<ul>";
      if (prof.emailId)
        html = html + "<li><i class='fa fa-envelope'></i><span class='con-span'>" + prof.emailId + "</span></li>";
      if (prof.phoneNumbers)
        html = html + "<li><i class='fa fa-phone'></i><span class='con-span'>" + prof.phoneNumbers + "</span></li>";
      if (prof.linkedin)
        html = html + "<li><i class='fa fa-linkedin'></i><span class='con-span'>" + prof.linkedin + "</span></li>";
      if (prof.facebook)
        html = html + "<li><i class='fa fa-facebook'></i><span class='con-span'>" + prof.facebook + "</span></li>";
      if (prof.twitter)
        html = html + "<li><i class='fa fa-twitter'></i><span class='con-span'>" + prof.twitter + "</span></li>";
      html = html + "</ul>";
      return html;
    }

    function sortResults(prop, asc, arr) {
      arr.sort(function (a, b) {
        if (asc)
        {
          return (a[prop] > b[prop]) ? 1 : ((a[prop] < b[prop]) ? -1 : 0);
        } else
        {
          return (b[prop] > a[prop]) ? 1 : ((b[prop] < a[prop]) ? -1 : 0);
        }
      });
      return arr;
    }

    function getResearchTeamLeftByCategory(obj) {
      var ele = "<h4>" + obj.category + "</h4>";
      obj.collection.forEach(e => {
        ele = ele + '<div class="row"><div class="col-md-9"><div class="section-heading left-text">' +
          '<p>' + e.name + ' </p>' +
          '<p>' + e.designation + '</p>' +
          '<p>' + e.emailId + '</p>' +
          '</div></div>' +
          '<div class="col-md-3"> <div class="right-image" id="' +
          e.name.replace(" ", "_") + '">' +
          '</div></div></div><br>';
      })
      return ele;
    }

    function getResearchAluminiTeamRightByCategory(obj) {
      var ele = "<h4>" + obj.category + "</h4>";
      obj.collection.forEach(e => {
        ele = ele + '<div class="row"><div class="col-md-3"><div class="right-image" id="' +
          e.name.replace(" ", "_") + '">' +
          '</div></div><div class="col-md-9"><div class="left-text">' +
          '<p>' + e.name + ' </p>' +
          '<p>' + e.designation + '</p>' +
          '<p>' + e.emailId + '</p>' +
          '</div></div></div><br>';
      })
      return ele;
    }

    function createImgTeamMembers(obj) {
      var img = "";
      obj.collection.forEach(e => {
        //image will show when run in local server 
        if (isDoesFileExist('assets/images/' + e.myphoto, e.name))
        {
          img = document.createElement('img')
          img.src = doesFileExist('assets/images/' + e.myphoto) ?
            'assets/images/' + e.myphoto : e.gender.toLowerCase() == 'male' ?
              'assets/images/male-default.jpg' : 'assets/images/female-default.jpg';
          img.alt = e.name;
          img.classList.add("rtimg");
        }
        //image name only show when run in browser / file 
        else
        {
          const newContent = document.createTextNode(e.name + ' image!!');
          img = newContent;
        }
        document.getElementById(e.name.replace(" ", "_")).appendChild(img);
      })
    }

    // checking existence of file synchronously : This function will work only in iis server / or after host into server
    function isDoesFileExist(urlToFile, name) {
      var xhr = new XMLHttpRequest();
      let result = true;
      try
      {
        xhr.open('HEAD', urlToFile, false);
        xhr.send();
      } catch (error)
      {
        console.log("This person " + name + " photo not available.")
        result = false;
      }
      finally
      {
        return result;
      }
    }
    // checking existence of file synchronously : This function will work only in iis server / or after host into server
    function doesFileExist(urlToFile) {
      var xhr = new XMLHttpRequest();
      xhr.open('HEAD', urlToFile, false);
      xhr.send();

      return xhr.status !== 404;
    }

    function getName(e) {
      current_data = data[1];
    }

    //Call the function here
    getProfileCurrentData();





  </script>
</body>

</html>