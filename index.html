<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <link
      href="https://fonts.googleapis.com/css?family=Lato:100,300,400,700,900"
      rel="stylesheet"
    />

    <title id="pagetitle"></title>
<!--
Reflux Template
https://templatemo.com/tm-531-reflux
-->
    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Additional CSS Files -->
    <link rel="stylesheet" href="assets/css/fontawesome.css" />
    <link rel="stylesheet" href="assets/css/templatemo-style.css" />
    <link rel="stylesheet" href="assets/css/owl.css" />
    <link rel="stylesheet" href="assets/css/lightbox.css" />
  </head>

  <body>
    <div id="page-wraper">
      <!-- Sidebar Menu -->
      <div class="responsive-nav">
        <i class="fa fa-bars" id="menu-toggle"></i>
        <div id="menu" class="menu">
          <i class="fa fa-times" id="menu-close"></i>
          <div class="container">
            <div class="image" id="profile-image">
              
            </div>
            <div class="author-content" id="profileName">
              
            </div>
            <nav class="main-nav" role="navigation">
              <ul class="main-menu">
                <li><a href="#section1">Home</a></li>
                <li><a href="#section2">Research</a></li>
                <li><a href="#section3">Teaching</a></li>
                <li><a href="#section4">Research Team</a></li>
                <li><a href="#section5">Publications</a></li>
                <li><a href="#section6">Service and Awards</a></li>
                <li><a href="#section7">Photo Galary</a></li>
                <li><a href="#section8">Contact Me</a></li>
              </ul>
            </nav>
            <div class="social-network">
              <ul class="soial-icons horizontalList">
                <li class="horizontalList">
                  <a href="https://www.google.com/" target="_blank"><i class="fa fa-facebook"></i></a>
                </li>
                <li class="horizontalList">
                  <a href="https://www.google.com/" target="_blank"><i class="fa fa-twitter"></i></a>
                </li>
                <li class="horizontalList">
                  <a href="https://www.google.com/" target="_blank"><i class="fa fa-linkedin"></i></a>
                </li>
              </ul>
            </div>
            <div class="copyright-text">
              <p>Copyright 2021 AIProton Design</p>
            </div>
          </div>
        </div>
      </div>

      <section class="section about-me" data-section="section1">
        <div class="container">
          <div class="section-heading">
            <h2>About Me</h2>
			<div class="line-dec"></div>
            <div  id="aboutme"></div>
          </div>

          <div class="left-image-post">
            <div class="row">
              <div class="col-md-6">
                <div class="left-image">
                  <img src="assets/images/myIntrest.jpg" alt="" />
                </div>
              </div>
              <div class="col-md-6">
                <div class="right-text" id="divIntrest-right">
                </div>
              </div>
            </div>
          </div>
          <div class="right-image-post">
            <div class="row">
              <div class="col-md-6">
                <div class="left-text" id="divIntrest-left">
                </div>
              </div>
              <div class="col-md-6">
                <div class="right-image">
                  <img src="assets/images/right-image.jpg" alt="" />
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="section my-services" data-section="section2">
        <div class="container">
          <div class="section-heading" id="divResearchHighlight">
            
          </div>
          <div class="row">
            <div class="col-md-6">
              <!-- <div class="service-item">
                <div class="first-service-icon service-icon"></div>
                <h4>HTML5 &amp; CSS3</h4>
                <p>
                  Phasellus non convallis dolor. Integer tempor hendrerit arcu
                  at bibendum. Sed ac ante non metus vehicula congue quis eget
                  eros.
                </p>
              </div>
            </div>
            <div class="col-md-6">
              <div class="service-item">
                <div class="second-service-icon service-icon"></div>
                <h4>Creative Ideas</h4>
                <p>
                  Proin lacus massa, eleifend sed fermentum in, dignissim vel
                  metus. Nunc accumsan leo nec felis porttitor, ultricies
                  faucibus purus mollis.
                </p>
              </div>
            </div>
            <div class="col-md-6">
              <div class="service-item">
                <div class="third-service-icon service-icon"></div>
                <h4>Easy Customize</h4>
                <p>
                  Integer suscipit condimentum aliquet. Nam quis risus metus.
                  Nullam faucibus quam eget arcu pretium tincidunt. Nam libero
                  dui.
                </p>
              </div>
            </div>
            <div class="col-md-6">
              <div class="service-item">
                <div class="fourth-service-icon service-icon"></div>
                <h4>Admin Dashboard</h4>
                <p>
                  Vivamus et dui a massa venenatis fringilla. Proin lacus massa,
                  eleifend sed fermentum in, dignissim vel metus. Nunc accumsan
                  leo nec felis porttitor.
                </p>
              </div>
            </div> -->
          </div>
        </div>
      </section>

      <section class="section my-work" data-section="section3">
        <div class="container">
          <div class="section-heading" id="divTeachingContent">
            <!-- dynamically loading -->
          </div>
        </div>
      </section>
      
      <section class="section my-work" data-section="section4">
        <div class="container">
          <div class="section-heading">
            <h2>Research Team</h2>
			<div class="line-dec"></div>
          <div class="left-image-post" id="divResearchTeamRight">
            <!-- dynamically loading -->
          </div>
          <div class="right-image-post" id="divResearchTeamLeft">
            <!-- dynamically loading -->
          </div>  
          <div class="left-image-post" id="divResearchAluminiTeamRight">
            <!-- dynamically loading -->
          </div>
      </section>

      <section class="section my-work" data-section="section5">
        <div class="container">
          <div class="section-heading">
            <h2>Publications</h2>
			      <div class="line-dec"></div>
            <div id="divPublications" class="puplications">
              <!-- dynamically loading -->
            </div>
          </div>
        </div>
      </section>

      <section class="section my-work" data-section="section6">
        <div class="container">
          <div class="section-heading">
            <h2>Service and Awards</h2>
			      <div class="line-dec"></div>
            <div id="divServiceAndAwards" class="puplications">
              <!-- dynamically loading -->
            </div>
          </div>
        </div>
      </section>

      <section class="section my-work" data-section="section7">
        <div class="container">
          <div class="section-heading" id="divPhotoGalaryContent">
            <h2>Photo Galary</h2>
			<div class="line-dec"></div>
          </div>
          <div class="row">
            <div class="isotope-wrapper">
              <form class="isotope-toolbar">
                <label
                  ><input
                    type="radio"
                    data-type="*"
                    checked=""
                    name="isotope-filter"
                  />
                  <span>all</span></label
                >
                <label
                  ><input
                    type="radio"
                    data-type="people"
                    name="isotope-filter"
                  />
                  <span>people</span></label
                >
                <label
                  ><input
                    type="radio"
                    data-type="nature"
                    name="isotope-filter"
                  />
                  <span>nature</span></label
                >
                <!-- <label
                  ><input
                    type="radio"
                    data-type="animals"
                    name="isotope-filter"
                  />
                  <span>animals</span></label
                > -->
              </form>
              <div class="isotope-box">
                <div class="isotope-item" data-type="nature">
                  <figure class="snip1321">
                    <img
                      src="assets/images/portfolio-01.jpg"
                      alt="sq-sample26"
                    />
                    <figcaption>
                      <a
                        href="assets/images/portfolio-01.jpg"
                        data-lightbox="image-1"
                        data-title="Caption"
                        ><i class="fa fa-search"></i
                      ></a>
                      <h4>First Title</h4>
                      <span>free to use our template</span>
                    </figcaption>
                  </figure>
                </div>

                <div class="isotope-item" data-type="people">
                  <figure class="snip1321">
                    <img
                      src="assets/images/portfolio-02.jpg"
                      alt="sq-sample26"
                    />
                    <figcaption>
                      <a
                        href="assets/images/portfolio-02.jpg"
                        data-lightbox="image-1"
                        data-title="Caption"
                        ><i class="fa fa-search"></i
                      ></a>
                      <h4>Second Title</h4>
                      <span>please tell your friends</span>
                    </figcaption>
                  </figure>
                </div>

                <div class="isotope-item" data-type="animals">
                  <figure class="snip1321">
                    <img
                      src="assets/images/portfolio-03.jpg"
                      alt="sq-sample26"
                    />
                    <figcaption>
                      <a
                        href="assets/images/portfolio-03.jpg"
                        data-lightbox="image-1"
                        data-title="Caption"
                        ><i class="fa fa-search"></i
                      ></a>
                      <h4>Item Third</h4>
                      <span>customize anything</span>
                    </figcaption>
                  </figure>
                </div>

                <div class="isotope-item" data-type="people">
                  <figure class="snip1321">
                    <img
                      src="assets/images/portfolio-04.jpg"
                      alt="sq-sample26"
                    />
                    <figcaption>
                      <a
                        href="assets/images/portfolio-04.jpg"
                        data-lightbox="image-1"
                        data-title="Caption"
                        ><i class="fa fa-search"></i
                      ></a>
                      <h4>Item Fourth</h4>
                      <span>Re-distribution not allowed</span>
                    </figcaption>
                  </figure>
                </div>

                <div class="isotope-item" data-type="nature">
                  <figure class="snip1321">
                    <img
                      src="assets/images/portfolio-05.jpg"
                      alt="sq-sample26"
                    />
                    <figcaption>
                      <a
                        href="assets/images/portfolio-05.jpg"
                        data-lightbox="image-1"
                        data-title="Caption"
                        ><i class="fa fa-search"></i
                      ></a>
                      <h4>Fifth Awesome</h4>
                      <span>Ut sollicitudin risus</span>
                    </figcaption>
                  </figure>
                </div>

                <div class="isotope-item" data-type="animals">
                  <figure class="snip1321">
                    <img
                      src="assets/images/portfolio-06.jpg"
                      alt="sq-sample26"
                    />
                    <figcaption>
                      <a
                        href="assets/images/portfolio-06.jpg"
                        data-lightbox="image-1"
                        data-title="Caption"
                        ><i class="fa fa-search"></i
                      ></a>
                      <h4>Awesome Sixth</h4>
                      <span>Donec eget massa ante</span>
                    </figcaption>
                  </figure>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="section contact-me" data-section="section8">
        <div class="container">
          <div class="section-heading">
            <h2>Contact Me</h2>
            <div class="line-dec"></div>
            <span
              >Fusce eget nibh nec justo interdum condimentum. Morbi justo ex,
              efficitur at ante ac, tincidunt maximus ligula. Lorem ipsum dolor
              sit amet, consectetur adipiscing elit.</span
            >
          </div>
          <div class="row">
            <div class="right-content">
              <div class="container">
                <form id="contact" action="" method="post">
                  <div class="row">
                    <div class="col-md-6">
                      <fieldset>
                        <input
                          name="name"
                          type="text"
                          class="form-control"
                          id="name"
                          placeholder="Your name..."
                          required=""
                        />
                      </fieldset>
                    </div>
                    <div class="col-md-6">
                      <fieldset>
                        <input
                          name="email"
                          type="text"
                          class="form-control"
                          id="email"
                          placeholder="Your email..."
                          required=""
                        />
                      </fieldset>
                    </div>
                    <div class="col-md-12">
                      <fieldset>
                        <input
                          name="subject"
                          type="text"
                          class="form-control"
                          id="subject"
                          placeholder="Subject..."
                          required=""
                        />
                      </fieldset>
                    </div>
                    <div class="col-md-12">
                      <fieldset>
                        <textarea
                          name="message"
                          rows="6"
                          class="form-control"
                          id="message"
                          placeholder="Your message..."
                          required=""
                        ></textarea>
                      </fieldset>
                    </div>
                    <div class="col-md-12">
                      <fieldset>
                        <button type="submit" id="form-submit" class="button" onclick="sendEmail()">
                          Send Message
                        </button>
                      </fieldset>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- Scripts -->
    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <script src="assets/js/isotope.min.js"></script>
    <script src="assets/js/owl-carousel.js"></script>
    <script src="assets/js/lightbox.js"></script>
    <script src="assets/js/custom.js"></script>
    <script src="assets/js/page-data.js"></script>
    <script src="assets/js/custome-email.js"></script>
    <script src="assets/js/smtp.js"></script>
    <script>
      //according to loftblog tut
      $(".main-menu li:first").addClass("active");

      var showSection = function showSection(section, isAnimate) {
        var direction = section.replace(/#/, ""),
          reqSection = $(".section").filter(
            '[data-section="' + direction + '"]'
          ),
          reqSectionPos = reqSection.offset().top - 0;

        if (isAnimate) {
          $("body, html").animate(
            {
              scrollTop: reqSectionPos
            },
            800
          );
        } else {
          $("body, html").scrollTop(reqSectionPos);
        }
      };

      var checkSection = function checkSection() {
        $(".section").each(function() {
          var $this = $(this),
            topEdge = $this.offset().top - 80,
            bottomEdge = topEdge + $this.height(),
            wScroll = $(window).scrollTop();
          if (topEdge < wScroll && bottomEdge > wScroll) {
            var currentId = $this.data("section"),
              reqLink = $("a").filter("[href*=\\#" + currentId + "]");
            reqLink
              .closest("li")
              .addClass("active")
              .siblings()
              .removeClass("active");
          }
        });
      };

      $(".main-menu").on("click", "a", function(e) {
        e.preventDefault();
        showSection($(this).attr("href"), true);
      });

      $(window).scroll(function() {
        checkSection();
      });

      //get data 
      var current_data = data.prof;
      console.log(data);

      ////////Define the function here////////

      //get list of student and staff
      var listOfStudent = {
        "category" : "Student" , 
        "collection": data.underProf
        .filter(x=>x.code.toLowerCase() == "student")
      };
      console.log(listOfStudent)
      var listOfStaff = {
        "category" : "Staff" , 
        "collection": data.underProf
        .filter(x=>x.code.toLowerCase() == "staff")
      };
      console.log(listOfStaff)
      var listOfAlumini = {
        "category" : "Alumini" , 
        "collection": data.underProf
        .filter(x=>x.code.toLowerCase() == "alumini")
      };
      console.log(listOfAlumini)


      //get Profile CurrentData
      function getProfileCurrentData(){
         var t = false;
        var img = document.createElement('img'); 
        var img1 = document.createElement('img');
        
            img.src =  'assets/images/' + current_data.myphoto; 
            
            img.alt = current_data.name;
            document.getElementById('profile-image').appendChild(img); 
        
        
        

        document.getElementById('profileName').innerHTML = 
              '<h4>' + current_data.name + '</h4>' +
              '<span>' + current_data.designation + '</span>';
        
        document.getElementById('aboutme').innerHTML = 
              '<span>' + current_data.aboutme + '</span>';
        
        document.getElementById('pagetitle').innerHTML =
        current_data.pageTitle ;

        document.getElementById('divIntrest-right').innerHTML =
              '<h4> Research Interests </h4>' +
              '<p>' + current_data.intrestContent + '</p>' +
              '<div class="white-button"> <a href="#">Read More</a>  </div>'
        
        document.getElementById('divIntrest-left').innerHTML =
              '<h4> Research Interests </h4>' +
              '<p>' + current_data.intrestContent + '</p>' +
              '<div class="white-button"> <a href="#">Read More</a>  </div>'

        document.getElementById("divResearchHighlight").innerHTML = 
              '<h2>Research Highlight</h2><div class="line-dec"></div>' +
              '<span>' + current_data.researchHighLightContent + '</span>';

        document.getElementById("divTeachingContent").innerHTML = 
              '<h2>Teaching</h2><div class="line-dec"></div>' +
              current_data.teachingContent;

        //divResearchTeam
        document.getElementById("divResearchTeamRight").innerHTML = getResearchTeamRightByCategory(listOfStudent);
        createImgTeamMembers(listOfStudent);

        document.getElementById("divResearchTeamLeft").innerHTML = getResearchTeamLeftByCategory(listOfStaff);
        createImgTeamMembers(listOfStaff);

        document.getElementById("divResearchAluminiTeamRight").innerHTML = getResearchTeamRightByCategory(listOfAlumini);
        createImgTeamMembers(listOfAlumini);

        //divPublications
        document.getElementById("divPublications").innerHTML = getPublications(data.publications);
        
        //divServiceAndAwards
        document.getElementById("divServiceAndAwards").innerHTML = getServiceAndAwards(data.serviceAndAwards);

      }

      function getMyPhoto(current_data){
        var rootPath = 'assets/images/' ;
        var myphotoPath = "";

        try{

        }catch(err){
          console.log(err);
        }finally{

        }
        myphotoPath = rootPath + current_data.myphoto;
        if(!ImageExist(myphotoPath)){
          myphotoPath = rootPath + (current_data.gender.toLowerCase() == 'male')? 'male-default.jpg' :  'female-default.jpg' ;
        }
        else{
          myphotoPath = rootPath + current_data.myphoto ;
        }


        //console.log(ImageExist(myphotoPath + current_data.myphoto));

        return myphotoPath; 
      }

      function ImageExist(url){
        return true;
      }

      function getResearchTeamRightByCategory(obj){
        var ele = "<h4>"+ obj.category + "</h4>";
        obj.collection.forEach(e=>{
          console.log(e)
          ele = ele + '<div class="row"><div class="col-md-3"><div class="right-image" id="'+ 
            e.name.replace(" ","_") + '">' +
            '</div></div><div class="col-md-9"><div class="left-text">' +
            '<p>' + e.name + ' </p>' + 
            '<p>' + e.designation + '</p>' + 
            '<p>' + e.emailId + '</p>' + 
             '</div></div></div><br>';
        })
        return ele;
      }

      function getPublications(obj){
        var html = "";
        obj.forEach(e=>{
          html = html + "<h2>"+ e.header + "</h2></br>";
          e.content.forEach(c=>{
            html = html + "<h4>"+ c.year + "</h4><div class='sub-line'></div></br><div><ul class='sqr'>";
            sortResults('order',true,c.published).forEach(p=>{
              html = html + "<li><span>"+ p['text'] + "</span></li>";
            })
            html = html + "</ul></div></br>"
          });
        })
        return html;
      }

      function getServiceAndAwards(obj){
        console.log(obj)
        var html = "";
        obj.forEach(e=>{
          html = html + "<h2>"+ e.header + "</h2></br>";
          e.content.forEach(c=>{
            html = html + "<h4>"+ c.year + "</h4><div class='sub-line'></div></br><div><ul class='sqr'>";
              console.log(c.data)
            sortResults('order',true,c.data).forEach(p=>{
              html = html + "<li><span>"+ p['text'] + "</span></li>";
            })
            html = html + "</ul></div></br>"
          });
        })
        return html;
      }

      function sortResults(prop, asc, arr) {
        arr.sort(function(a, b) {
        if (asc) {
            return (a[prop] > b[prop]) ? 1 : ((a[prop] < b[prop]) ? -1 : 0);
        } else {
            return (b[prop] > a[prop]) ? 1 : ((b[prop] < a[prop]) ? -1 : 0);
        }
        });
        return arr;
      }

      function getResearchTeamLeftByCategory(obj){
        var ele = "<h4>"+ obj.category + "</h4>";
        obj.collection.forEach(e=>{
          console.log(e)
          ele = ele + '<div class="row"><div class="col-md-9"><div class="left-text">' +
            '<p>' + e.name + ' </p>' + 
            '<p>' + e.designation + '</p>' + 
            '<p>' + e.emailId + '</p>' + 
            '</div></div>' + 
            '<div class="col-md-3"> <div class="right-image" id="'+ 
            e.name.replace(" ","_") + '">' +
            '</div></div></div><br>';
        })
        return ele;
      }

      function getResearchAluminiTeamRightByCategory(obj){
        var ele = "<h4>"+ obj.category + "</h4>";
        obj.collection.forEach(e=>{
          console.log(e)
          ele = ele + '<div class="row"><div class="col-md-3"><div class="right-image" id="'+ 
            e.name.replace(" ","_") + '">' +
            '</div></div><div class="col-md-9"><div class="left-text">' +
            '<p>' + e.name + ' </p>' + 
            '<p>' + e.designation + '</p>' + 
            '<p>' + e.emailId + '</p>' + 
             '</div></div></div><br>';
        })
        return ele;
      }

      function createImgTeamMembers(obj){
        var img = "";
        obj.collection.forEach(e=>{
          //image will show when run in local server 
          if(isDoesFileExist('assets/images/' + e.myphoto , e.name)){
            img = document.createElement('img')
            img.src = doesFileExist('assets/images/' + e.myphoto) ?  
            'assets/images/' + e.myphoto : e.gender.toLowerCase() == 'male' ? 
            'assets/images/male-default.jpg' : 'assets/images/female-default.jpg';
            img.alt = e.name;
            img.classList.add("rtimg");
          }
          //image name only show when run in browser / file 
          else{ 
            const newContent = document.createTextNode(e.name + ' image!!');
            img = newContent;  
          }
          document.getElementById(e.name.replace(" ","_")).appendChild(img);
        })
      }
	  
	  // checking existence of file synchronously : This function will work only in iis server / or after host into server
    function isDoesFileExist(urlToFile,name) {
        var xhr = new XMLHttpRequest();
        let result = true;
        try {
          xhr.open('HEAD', urlToFile, false);
          xhr.send();
        } catch (error) {
          console.log("This person " + name + " photo not available.")
          result = false;
        }
        finally{
          return result;
        }
      }
    // checking existence of file synchronously : This function will work only in iis server / or after host into server
      function doesFileExist(urlToFile) {
        var xhr = new XMLHttpRequest();
        xhr.open('HEAD', urlToFile, false);
        xhr.send();
        
        return xhr.status !== 404;
      }

      function getName(e){
        console.log(e.innerHTML);
        current_data = data[1];
      }

      //Call the function here
      getProfileCurrentData();

      

      

    </script>
  </body>
</html>
